# Notes:
#  - StorageDirectory is a bind mount to OneDrive; IndexDirectory is a local volume.
#  - PostgreSQL: index in DB (EnableIndex=true), storage on filesystem (EnableStorage=false).
#  - For DB‑only backup strategy, set EnableStorage=true and do WAL/PITR with pgBackRest.
# ─────────────────────────────────────────────────────────────────────────────
{
  "Name": "${ORTHANC__NAME}",
  "StorageDirectory": "/var/lib/orthanc/storage",
  "IndexDirectory": "/var/lib/orthanc/index",
  "DicomAet": "${ORTHANC__DICOM_AET}",
  "DicomPort": 4242,
  "HttpPort": 8042,
  "RemoteAccessAllowed": false,
  "AuthenticationEnabled": true,
  "RegisteredUsers": { "admin": "${ORTHANC_ADMIN_PASSWORD}" },
  "SslEnabled": false,
  "CompressionEnabled": true,
  "Plugins": ["orthanc-postgresql"],
  "PostgreSQL": {
    "EnableIndex": true,
    "EnableStorage": false,
    "Host": "postgres",
    "Port": 5432,
    "Database": "${POSTGRES_DB}",
    "Username": "${POSTGRES_USER}",
    "Password": "${POSTGRES_PASSWORD}",
    "IndexConnectionsCount": 10,
    "Lock": true
  },
  "RestApiWritePermissions": true,
  "HttpDescribeErrors": false,
  "HttpServerThreadsCount": 8,
  "JobsEngineThreadsCount": 4,
  "StrictAetComparison": true,
  "DicomAssociationCloseDelay": 2,
  "OverwriteInstances": false,
  "UnknownSopClassAccepted": false,
  "LimitJobs": 20,
  "DicomScpTimeout": 30,
  "CaseSensitivePN": false
}
